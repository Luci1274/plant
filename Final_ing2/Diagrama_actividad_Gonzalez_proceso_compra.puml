@startuml
title Diagrama de Actividad - Proceso de Compra

|Usuario|
start
:Iniciar sesión;
:Ver catálogo de productos;
:Seleccionar vestido;
:Agregar al carrito;
:Confirmar carrito;

if (¿Datos personales completos?) then (Sí)
  |Sistema|
  :Solicitar datos de tarjeta;
  |Usuario|
  :Ingresar datos de tarjeta;
  |Sistema|
  if (¿Tarjeta válida?) then (Sí)
    :Procesar pago;
    :Registrar venta;
    :Actualizar stock;
    |Usuario|
    :Mostrar confirmación;
  else (No)
    :Mostrar error de tarjeta;
  endif
else (No)
  |Sistema|
  :Solicitar datos faltantes;
endif

stop
@enduml
